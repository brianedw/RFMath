# High Density Measurements of Multipliers

The multipliers are designed to multiply the complex amplitude of a 45MHz input signal and render it at the output.  In terms of Scattering Parameters, $S_{21} = z$.  They are designed based on two JSPHS-51+ phase shifters followed by an AD603 Variable Gain Amplifier (VGA).  Both of the phase shifters and VGA are each controlled by an analog voltage.  To control these devices, two analog voltages [0-5V] are generated by a Arduino micrcontroller with 10-bit resolution.  These two voltages are scaled and level-shifted to match the input requirements of the VGA [-0.5 - 0.5V] and PS [0-12V].  Each Arduino responds to digital instructions sent to it by a computer.  The end effect is that the multiplier $z$ value can be controlled by a computer.

Given the number of devices, each with their own natural deviations and personality, between the digital instruction and the realized complex gain, $z$, it follows that each Multiplier has it's own behavior.  In this folder, we measure each multiplier with swept input parameters so as to map the output response against the input.

The file names are in the format `[Mult Num]_[sampling][measurement].txt`
* where `[Mult Num]` is of the form `1`, `2`, ... `55`.
* where `[sampling]` could be:
  * `94by94` - (default) indicating that 94 by 94 measurements were taken on the range [0, 11, 22, ..., 1012, 1023].
  * `128by128` - indicating that 129 by 129 measurements were taken on the range [0, 8, 16, .., 1008, 1016, 1023].  Note that the last step is 7, not 8 so as to capture the final value of 1023.
* and `[measurement]` could be:
  * nothing - indicating that the file is the measured transmission coefficient result.
  * `STD` - indicating that the file is the standard deviation of said measurements.
  * `Nv` - two grids grid of sampled points.  First is [TODO] and second is [TODO]
  
In order to speed the aquisition of the data, the values were mapped in batches of 5 using two digitally controlled switches.<sup>[1](#digiswitch)</sup>.  Note that the components 40-50 have been measured with the matching circuit on the switches. (this affect the STD of the measurements and possibly slightly the phase of the measured signal), while the other devices did not.

In the OLD File, the old measurements are included, perhaps for measurements, reference or cross validation of the results. 

<a name="digiswitch">1</a>: The digital switch was created using the HMC253AQS24 evaluation board.  This board comes with a high-pass capacitors (100pF) on each port.  These were switched for larger values (470pF) which provided little barrier to 45MHz.  Off ports on the HMC253AQS24 chip are nominally matched to 50$\Omega$, but close inspection at 45MHz indicates that they behave closer to an open circuit and are only matched well at much higher frequencies.  Terminators (50Ohm) were placed in parallel on T's to reduce reflections from unused ports.  On the "off" ports, they appear as nearly matched terminations.  The "on" port will show a dramatic reduction in signal, but this can be deembeded out by including the T and terminator in the calibration.  The switch was trivially controlled through a Python script which connected to an Arduino via USB.

# old

All files were created using `NumPy.savetxt()` and can be easily imported using `NumPy.loadtxt()`.

1. The number of the multiplier, eg 1_, 2_, etc
2. How dense was the measurement. The defult is 94x94, implying the 94 values were taken in the interval 0-1023 (with end value 1023)
3. The ending declares whether is the standard deviation of the measrements or the mesh grid that was used (for reference).


A few of the measurements where taken with slightly denser grid, e.g. 128x128. 




